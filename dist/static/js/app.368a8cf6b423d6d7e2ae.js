webpackJsonp([0],{"03hZ":function(t,i,e){"use strict";function n(t){var i=document.createElement("div").style,e=function(){for(var t=["t","webkitT","MozT","msT","OT"],e=0,n=t.length;e<n;e++)if(t[e]+"ransform"in i)return t[e].substr(0,t[e].length-1);return!1}();return!1!==e&&(""===e?t:e+t.charAt(0).toUpperCase()+t.substr(1))}Object.defineProperty(i,"__esModule",{value:!0}),i.default={data:function(){return{background:"#"+Math.floor(100+899*Math.random()),styleName:{transform:n("transform")}}},props:["way","data"],computed:{info:function(){return this.data.info}},mounted:function(){var t=this;this.$el.style[this.styleName.transform]="translate(0px,0px)",this.$el.style[n("transitionTimingFunction")]="cubic-bezier(0.25, 0.46, 0.45, 0.94)";var i=this.$el.getBoundingClientRect().height;this.$nextTick(function(){t.$parent.$emit("child",{way:t.way,h:i,child:t})})},methods:{placeChange:function(t){this.$el.style[this.styleName.transform]="translate(0px,"+t+"px)"},getComputedPosition:function(){var t,i,e=window.getComputedStyle(this.$el,null);return e=e[this.styleName.transform].split(")")[0].split(", "),t=+(e[12]||e[4]),i=+(e[13]||e[5]),{x:t,y:i}},goLink:function(){this.$root.$children[0].$refs.ifr.fadeIn(this.info.link)}}}},"9gz/":function(t,i){},B5BT:function(t,i){},CBvF:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("vV0Y"),s=e.n(n),o={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:this.showing,expression:"showing"}],ref:"box",staticClass:"iframe"},[i("iframe",{ref:"ifr",attrs:{width:"100%",height:"100%",scrolling:this.scrolling}})])])],1)},staticRenderFns:[]},r=function(t){e("t/MN")},a=e("VU/8")(s.a,o,!1,r,"data-v-fd9ee47e",null);i.default=a.exports},H868:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("nT0L"),s=e.n(n),o={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"scroll",style:{height:this.height}},this._l(this.itemList,function(t,e){return i("scroll-item",{key:t.data.ind,attrs:{way:t.way,data:t.data}})}))},staticRenderFns:[]},r=function(t){e("B5BT")},a=e("VU/8")(s.a,o,!1,r,"data-v-39dfaf54",null);i.default=a.exports},M93x:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("xJD8"),s=e.n(n),o={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("scroll",{ref:"scroll"}),this._v(" "),i("iframe-view",{ref:"ifr",attrs:{id:"m-iframe"}})],1)},staticRenderFns:[]},r=function(t){e("bJYZ")},a=e("VU/8")(s.a,o,!1,r,null,null);i.default=a.exports},NHnr:function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var s=n(e("7+uW")),o=n(e("M93x"));s.default.config.productionTip=!1,window._app=new s.default({el:"#app",template:"<App/>",components:{App:o.default}})},bJYZ:function(t,i){},fG2t:function(t,i,e){"use strict";function n(t,i){this.wrapper="string"==typeof t?document.querySelector(t):t,this.options={preventDefault:!1,disableMouse:!1,disablePointer:!1,disableTouch:!1},this.options=Object.assign(this.options,i||{}),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this.initiated=null,this.startTime=null,this._initEvent()}function s(t){return!1!==r&&(""===r?t:r+t.charAt(0).toUpperCase()+t.substr(1))}Object.defineProperty(i,"__esModule",{value:!0});var o=document.createElement("div").style,r=function(){for(var t=["t","webkitT","MozT","msT","OT"],i=0,e=t.length;i<e;i++)if(t[i]+"ransform"in o)return t[i].substr(0,t[i].length-1);return!1}(),a=s("transform"),h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};n.prototype={utils:{hasTransform:!1!==a,hasPerspective:s("perspective")in o,hasTouch:"ontouchstart"in window,hasPointer:!(!window.PointerEvent&&!window.MSPointerEvent),hasTransition:s("transition")in o,transform:a,transitionTimingFunction:s("transitionTimingFunction"),transitionDuration:s("transitionDuration"),transitionDelay:s("transitionDelay"),transformOrigin:s("transformOrigin"),touchAction:s("touchAction"),prefixPointerEvent:function(t){return window.MSPointerEvent?"MSPointer"+t.charAt(7).toUpperCase()+t.substr(8):t}},eventType:{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3},_addEvent:function(t,i,e,n){t.addEventListener(i,e,!!n)},_removeEvent:function(t,i,e,n){t.removeEventListener(i,e,!!n)},_initEvent:function(t){var i=this,e=t?this._removeEvent:this._addEvent,n=this.wrapper,s=this.utils;this.options.disableMouse||(e(this.wrapper,"mousedown",this),e(n,"mousemove",this),e(n,"mousecancel",this),e(n,"mouseup",this)),s.hasPointer&&!this.options.disablePointer&&(e(this.wrapper,s.prefixPointerEvent("pointerdown"),this),e(n,s.prefixPointerEvent("pointermove"),this),e(n,s.prefixPointerEvent("pointercancel"),this),e(n,s.prefixPointerEvent("pointerup"),this)),s.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(n,"touchmove",this),e(n,"touchcancel",this),e(n,"touchend",this)),this.rAFPooling(),this.on("rAF",function(){i.transitionTail()})},rAFPooling:function(){var t=this;this._execEvent("rAF"),h(function(){t.rAFPooling()})},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},_start:function(t){if(1!=this.eventType[t.type]){if(0!==(t.which?t.button:t.button<2?0:4==t.button?1:2))return}if(this.options.preventDefault&&t.preventDefault(),!this.initiated||this.eventType[t.type]===this.initiated){var i=t.touches?t.touches[0]:t;this.initiated=this.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.startTime=this.getTime(),this.isInTransition&&(this.isInTransition=!1,this._execEvent("scrollEnd")),this.startX=i.pageX,this.startY=i.pageY,this.pointX=i.pageX,this.pointY=i.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(t.preventDefault(),this.eventType[t.type]===this.initiated){var i,e,n=t.touches?t.touches[0]:t,s=n.pageX-this.pointX,o=n.pageY-this.pointY,r=this.getTime();this.pointX=n.pageX,this.pointY=n.pageY,this.distX+=s,this.distY+=o,i=Math.abs(this.distX),e=Math.abs(this.distY),r-this.endTime>300&&i<6&&e<6||(this.moved||this._execEvent("scrollStart"),this.moved=!0,r-this.startTime>300&&(this.startTime=r,this.startX=n.pageX,this.startY=n.pageY),this._execEvent("scrolling",{distX:this.distX,distY:this.distY}))}},_end:function(t){if(this.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();t.changedTouches&&t.changedTouches[0];var i=this.getTime()-this.startTime,e=Math.round(this.pointX),n=Math.round(this.pointY),s=(this.startX,n-this.startY);this.isInTransition=0,this.initiated=0,this.endTime=this.getTime(),this.computedTransTail(s,i)}},computedTransTail:function(t,i){this.tailSpeed=t/(i/(1e3/60));this.tailDuration=Math.abs(this.tailSpeed)/.1,this.tailDuration>80&&(this.tailDuration=80),this.tailCurDuration=1,this.tailDuration>1?this.isInTransition=1:this._execEvent("scrollEnd")},circular:function(t){return Math.sqrt(1- --t*t)},transitionTail:function(){if(this.isInTransition){var t=this.tailSpeed-this.circular(this.tailCurDuration/this.tailDuration)*this.tailSpeed;this.distY+=t,this._execEvent("scrolling",{distX:this.distX,distY:this.distY}),this.tailCurDuration++,this.tailCurDuration>this.tailDuration&&(this.isInTransition=0,this._execEvent("scrollEnd"))}},getTime:Date.now||function(){return(new Date).getTime()},on:function(t,i){this._events[t]||(this._events[t]=[]),this._events[t].push(i)},off:function(t,i){if(this._events[t]){var e=this._events[t].indexOf(i);e>-1&&this._events[t].splice(e,1)}},_execEvent:function(t){if(this._events[t]){var i=0,e=this._events[t].length;if(e)for(;i<e;i++)this._events[t][i].apply(this,[].slice.call(arguments,1))}}},i.default=n},nT0L:function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var s=n(e("fG2t")),o=n(e("vGwG")),r=void 0,a=[];window.elList=a;i.default={data:function(){return{itemList:[],warpHeight:null,indNum:1}},created:function(){var t=this;this.$on("child",function(i){t.putChildren(i)})},mounted:function(){var t=this;this.warpHeight=this.$el.getBoundingClientRect().height,(r=new s.default(this.$el,{})).on("scrollStart",function(){}),r.on("scrolling",function(i){i.distX;var e=i.distY;t.scrolling(e)}),r.on("scrollEnd",function(){t.scrollEnd()})},props:["height"],methods:{scrolling:function(t){a.forEach(function(i){i.tmpY=i.y+t,i.child.placeChange(i.tmpY)}),this.judgeChildren()},scrollEnd:function(){this.refreshItemY()},judgeChildren:function(){for(var t=0,i=a.length;t<i;t++){var e=a[t];if(e.tmpY+e.h>-50)break}for(t&&(a.splice(0,t),this.itemList.splice(0,t)),t=i=a.length-1;t>=0;t--){if(a[t].tmpY<this.warpHeight+50){t+=1;break}}if(t<i&&(a.splice(t),this.itemList.splice(t)),a.length){a[0].tmpY>-50&&this.addChild(-1);var n=a[a.length-1];n.tmpY+n.h<this.warpHeight+50&&this.addChild(1)}else this.addChild(1)},addChild:function(){var t=this;!function(i,e){t.$parent.addChild(i,function(n){i>0?t.itemList.push({way:i,data:{ind:e,info:n}}):t.itemList.unshift({way:i,data:{ind:e,info:n}})})}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,this.indNum),this.indNum++,this.indNum>1e3&&(this.indNum=0)},refreshItemY:function(){a.forEach(function(t){t.tmpY&&(t.y=t.tmpY)})},putChildren:function(t){var i=0,e=0,n=void 0,s=void 0;if(a.length&&(t.way>0?(i=(n=a[a.length-1]).y+n.h,e=n.tmpY+n.h):(i=(s=a[0]).y-t.h,e=s.tmpY-t.h)),t.y=i,t.tmpY=e,t.way>0?a.push(t):a.unshift(t),t.child.placeChange(e),t.way>0){if(i>this.warpHeight)return}else if(s.y<0)return;this.addChild(t.way)}},components:{ScrollItem:o.default}}},"t/MN":function(t,i){},uMrQ:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.default=function(t,i,e){var s=-1==t.indexOf("?")?"?":"&";if("function"==typeof i)e=i;else if("object"==(void 0===i?"undefined":n(i)))for(var o in i)"callback"!=o&&(s+=o+"="+i[o]+"&");var r=i&&i.callback?i.callback:"my_json_cb_"+Math.random().toString().replace(".","");s+="callback="+r,window[r]=function(t){e(t),document.body.removeChild(a)};var a=document.createElement("script");a.src=t+s,document.body.appendChild(a)}},vGwG:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("03hZ"),s=e.n(n),o={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"b",style:{background:this.background},on:{click:this.goLink}},[i("div",{staticClass:"words"},[i("div",{staticClass:"t"},[this._v("\n      "+this._s(this.info.title)+"\n    ")]),this._v(" "),i("div",{staticClass:"source"},[this._v("\n      "+this._s(this.info.source)+"\n    ")]),this._v(" "),i("div",{staticClass:"date"},[this._v("\n      "+this._s(this.info.ptime)+"\n    ")])]),this._v(" "),this.info.picInfo&&this.info.picInfo.length?i("div",{staticClass:"pic"},[i("img",{attrs:{src:this.info.picInfo[0].url}})]):this._e()])},staticRenderFns:[]},r=function(t){e("9gz/")},a=e("VU/8")(s.a,o,!1,r,null,null);i.default=a.exports},vV0Y:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={name:"iframe",data:function(){return{scrolling:"auto",width:"100%",height:"100%",showing:!1,loaded:!1}},mounted:function(){this.scrolling=/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(navigator.userAgent)?"no":"auto",this.width=document.documentElement.clientWidth,this.height=document.documentElement.clientHeight;var t=this;this.$refs.ifr.onload=function(){console.log("onload"),t.loaded?t.showing=!1:t.loaded=!0}},methods:{fadeIn:function(t){this.loaded=!1,this.$refs.ifr.src=location.protocol+"//"+t.split("//")[1],this.showing=!0,location.hash="detail"},fadeOut:function(){this.showing=!1,this.$refs.ifr.src=""}}}},xJD8:function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var s=n(e("H868")),o=n(e("CBvF")),r=n(e("uMrQ")),a=[];i.default={name:"app",data:function(){return{reqInd:10,reqNum:40,lastWay:1,loadingFlag:!1}},mounted:function(){var t=this;this.getNews(),window.addEventListener("hashchange",function(i){/#detail$/.test(i.newURL)||t.$refs.ifr.fadeOut()},!1)},methods:{getNews:function(){var t=this;if(!this.loadingFlag){this.loadingFlag=!0;var i="http://3g.163.com/touch/jsonp/sy/recommend/"+this.reqInd+"-"+this.reqNum+".html?hasad=1&miss=57&refresh=A";this.reqInd+=this.reqNum,this.reqInd>300&&(this.reqInd=10),(0,r.default)(i,{callback:"jsonpGetnews"},function(i){console.log(i),a=a.concat(i.list),t.lastWay&&t.$refs.scroll.addChild(t.lastWay),t.loadingFlag=!1})}},addChild:function(t,i){a.length?(i(a.shift()),this.lastWay=null):this.lastWay=t,a.length<30&&this.getNews()}},components:{Scroll:s.default,IframeView:o.default}}}},["NHnr"]);
//# sourceMappingURL=app.368a8cf6b423d6d7e2ae.js.map